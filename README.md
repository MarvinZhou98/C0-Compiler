# C0-Compiler
本项目为编译原理课程作业，目标为实现一个C0语言的编译器，生成栈式目标代码,以及编写栈式指令系统的解释执行程序
***
## C0语言的语法结构定义如下：
<程序>->[<变量定义部分>] {<自定义函数定义部分>} <主函数>

<变量定义部分>->int id {, id};
<自定义函数定义部分>-> (int id | void id) '('')'<分程序>
<主函数>->void main'('')'<分程序>

<分程序>->'{' [<变量定义部分>] <语句序列>'}'

<语句序列>-><语句> {<语句>}

<语句>-><条件语句>｜<循环语句> | '{'<语句序列>'}' | <自定义函数调用语句>
| <赋值语句> | <返回语句> | <读语句> | <写语句> | ;

<条件语句>->if '('<表达式>')'|<语句> [else <语句> ]
<循环语句>->while '('<表达式>')'<语句>
<自定义函数调用语句>-><自定义函数调用>;
<赋值语句>->id = <表达式>;
<返回语句>->return ['('<表达式>')'];
<读语句>->scanf '(' id ')';
<写语句>->printf '(' [<表达式>] ')';

<表达式>-> [+｜-]<项>{ (+｜-) <项>} 
<项> -><因子>｛(*｜/) <因子>｝
<因子> ->id｜'('<表达式>')' |num | <自定义函数调用>

<自定义函数调用>->id'('')'
其中，id代表标识符，num代表整数，其含义及构成方式与C语言相一致；C0源程序中的变量需先定义后使用，其作用域与生存期与C语言相一致；自定义函数可超前使用（调用在前，定义在后）。
***
## 假想的栈式指令系统表如下
指令|作用
-|-
LIT 0 a	| 将常数值取到栈顶，a为常数值
LOD t a	| 将变量值取到栈顶，a为相对地址，t为层数
STO t a	| 将栈顶内容送入某变量单元中，a为相对地址，t为层数
CAL0 a	| 调用函数，a为函数地址
INT 0 a	| 在运行栈中为被调用的过程开辟a个单元的数据区
JMP 0 a	| 无条件跳转至a地址
JPC 0 a	| 条件跳转，当栈顶值为0，则跳转至a地址，否则顺序执行
ADD 0 0	| 次栈顶与栈顶相加，退两个栈元素，结果值进栈
SUB 0 0	| 次栈顶减去栈顶，退两个栈元素，结果值进栈
MUL 0 0	| 次栈顶乘以栈顶，退两个栈元素，结果值进栈
DIV 0 0	| 次栈顶除以栈顶，退两个栈元素，结果值进栈
RED 0 0	| 从命令行读入一个输入置于栈顶
WRT 0 0	| 栈顶值输出至屏幕并换行
RET 0 0	| 函数调用结束后,返回调用点并退栈
***